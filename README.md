# Rocket Simulation
A simple rocket simulator built with C++, OpenGL, GLFW, GLM, and Dear ImGui.

## Features

### Control
- **Keyboard control**
  - `Q`/`E`: Adjustable time scale
  - `W`/`S`: Camera zoom
- **Mouse Control**
  - Left mouse button drag: Rotate
  - Mouse wheel: Camera zoom

### Rendering
- Earth and Moon rendering
- Rocket rendering
- Rocket Trajectory Visualization: Displays the rocket's flight path in real-time
- Predict Trajectory for Rocket
- Map View: Displays celestial body positions (Earth, Moon, Rocket) in a 2D map

### Simulation
- Velocity Verlet integration for more accurate physics simulation
- Simulates gravitational interaction between Earth and Moon
- Realistic rocket acceleration computation using current physics configuration
- Real-time moon orbit simulation based on angular velocity

### Simulation Info
The simulation provides real-time data displayed in an ImGui window:

- **Time Scale**: Current time scale of the simulation
- **Mass**: Rocket's total mass in kilograms
- **Fuel Mass**: Remaining fuel mass in kilograms
- **Thrust**: Thrust generated by the rocket in newtons
- **Exhaust Velocity**: Exhaust velocity in meters per second
- **Position (Geocentric)**: Rocket's position in geocentric coordinates
- **Velocity**: Rocket's velocity vector
- **Altitude**: Rocket's altitude above Earth's surface in meters
- **Time**: Elapsed simulation time in seconds
- **Launched**: Whether the rocket has been launched

## Install

### Dependencies

- System libraries (Ubuntu/Debian):
    ```bash
    sudo apt-get install libglfw3-dev libglew-dev libglm-dev libgtest-dev libgmock-dev
    ```

- [Dear ImGui](https://github.com/ocornut/imgui): UI rendering
- [nlohmann/json](https://github.com/nlohmann/json): JSON configuration
- [spdlog](https://github.com/gabime/spdlog.git): For processing logs

### Build Instructions

1. Install dependencies: `libglfw3-dev`, `libglew-dev`, `libglm-dev`, etc.
2. Clone the repository and make sure submodules (like imgui) are included.
3. Run build script:
    ```bash
    ./scripts/build.sh
    ```
4. Execute the simulation:
    ```bash
    ./bin/RocketSimulation
    ```

## Build Instructions
1. Install dependencies: `libglfw3-dev`, `libglew-dev`, `libglm-dev`.   
2. Run `./scripts/build.sh`.
3. Execute `./bin/RocketSimulation`.

# Structure
```bash
RocketSimulation/
├── include/
│ ├── core/ # Core modules (simulation, physics)
│ │ ├── body.h
│ │ ├── rocket.h
│ │ ├── simulation.h
│ │ └── flight_plan.h
│ ├── rendering/ # Rendering related
│ │ ├── camera.h
│ │ ├── render_object.h
│ │ └── shader.h
│ ├── logging/ # Logging module
│ │ ├── logger.h
│ │ ├── spdlog_logger.h
│ │ └── loguru_logger.h
│ ├── app/ # Application layer (main logic, configuration)
│ │ ├── app.h
│ │ ├── config.h
│ │ └── map.h
│ ├── ui/ # User interface and input
│ │ ├── input_handler.h
│ │ └── ui.h
├── src/
│ ├── core/
│ │ ├── body.cpp
│ │ ├── rocket.cpp
│ │ ├── simulation.cpp
│ │ └── flight_plan.cpp
│ ├── rendering/
│ │ ├── camera.cpp
│ │ ├── render_object.cpp
│ │ └── shader.cpp
│ ├── logging/
│ │ ├── spdlog_logger.cpp
│ ├── app/
│ │ ├── app.cpp
│ │ ├── config.cpp
│ │ └── map.cpp
│ ├── ui/
│ │ ├── input_handler.cpp
│ │ └── ui.cpp
│ ├── main.cpp # Keep the entry at the top level
├── lib/
│ ├── spdlog/ # Submodule
├── tests/
│ ├── test_main.cpp
├── logs/
├── CMakeLists.txt
```
